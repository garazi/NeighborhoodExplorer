<aura:component implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId" access="global" >
    <ltng:require styles="/resource/leaflet/leaflet.css" scripts="/resource/leafletMap/leaflet.js" afterScriptsLoaded="{!c.mapLoaded}"/>    
    <aura:attribute name="location" type="Object" />
    <aura:attribute name="mapObj" type="Object" />
    <aura:attribute name="markers" type="Object" />
    <aura:attribute name="markersLayer" type="Object" />
    <aura:attribute name="class" type="String" />
    <aura:handler name="change" value="{!v.location}" action="{!c.updateMap}" />
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
    <div id="leafMap" aura:id="leafletMap" class="{!'map ' + v.class}"></div>
</aura:component>